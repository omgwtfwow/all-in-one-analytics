(function($,window,document,undefined){var pluginName="exopiteFineUploader";function Plugin(element,options){this.element=element;this._name=pluginName;this.$element=$(element);this.init()}Plugin.prototype={init:function(){var ajaxUrl=this.$element.data("ajaxurl");this.$element.fineUploader({template:"qq-template-manual-trigger",request:{endpoint:ajaxUrl,params:{action:"exopite-sof-file_uploader",postId:this.$element.data("postid")},paramsInBody:true},deleteFile:{method:"POST",endpoint:ajaxUrl,params:{action:"exopite-sof-file_uploader"},enabled:this.$element.data("delete-enabled"),forceConfirm:this.$element.data("delete-force-confirm")},retry:{enableAuto:this.$element.data("retry-enable-auto"),maxAutoAttempts:this.$element.data("retry-max-auto-attempts"),autoAttemptDelay:this.$element.data("retry-auto-attempt-delay")},validation:{allowedExtensions:this.$element.data("mimetypes").split(","),sizeLimit:this.$element.data("maxsize"),itemLimit:this.$element.data("filecount")},autoUpload:this.$element.data("auto-upload"),debug:true});this.bindEvents()},bindEvents:function(){var plugin=this;plugin.$element.find(".trigger-upload").on("click"+"."+plugin._name,function(){plugin.$element.fineUploader("uploadStoredFiles")})}};$.fn[pluginName]=function(options){return this.each(function(){if(!$.data(this,"plugin_"+pluginName)){$.data(this,"plugin_"+pluginName,new Plugin(this,options))}})};$(document).ready(function(){$(".qq-template").exopiteFineUploader()})})(jQuery,window,document);